---
import { experience } from '../../data/experience';
import { ExternalLink } from '@lucide/astro';
---

<section id="experience" class="py-16 scroll-mt-20">
  <div class="max-w-5xl mx-auto px-4">
    <h2 class="text-2xl md:text-3xl font-bold mb-8">Experience</h2>

    <div class="relative border-l-2 border-neutral-200 dark:border-neutral-600 pl-8 space-y-10">
      {experience.map((job, index) => (
        <div class="relative">
          <!-- Timeline dot -->
          <div class="absolute -left-10.25 w-4 h-4 bg-primary-600 dark:bg-primary-500 rounded-full border-4 border-neutral-50 dark:border-neutral-950" />

          <div class="text-sm text-neutral-500 dark:text-neutral-400 mb-1">
            {job.period}
          </div>

          <h3 class="font-semibold text-lg text-neutral-900 dark:text-neutral-1000">
            {job.title}
          </h3>

          <p class="text-neutral-500 dark:text-neutral-400 mb-3">
            {job.companyUrl ? (
              <a
                href={job.companyUrl}
                target="_blank"
                rel="noopener noreferrer"
                class="hover:text-primary-600 dark:hover:text-primary-500 inline-flex items-center gap-1 transition-colors"
              >
                {job.company}
                <ExternalLink class="w-3 h-3" />
              </a>
            ) : (
              job.company
            )}
            <span class="text-neutral-400 dark:text-neutral-500 mx-2">|</span>
            {job.location}
          </p>

          <ul class="space-y-2">
            {job.highlights.map(highlight => (
              <li class="flex gap-3 text-sm text-neutral-500 dark:text-neutral-400">
                <span class="text-primary-600 dark:text-primary-500 shrink-0">-</span>
                <span>{highlight}</span>
              </li>
            ))}
          </ul>
        </div>
      ))}
    </div>
  </div>
</section>
